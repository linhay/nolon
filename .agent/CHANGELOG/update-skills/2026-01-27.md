# Skills & Workflows 迭代复盘 - 2026-01-27

## 0. 对话概览
本次任务涉及修复仓库切换时的状态异常（显示“已取消”）以及统一远程技能卡片的 UI 风格。任务过程中出现了一次明显的返工需求（用户要求统一风格）和一次编译错误。

## 1. 本次使用的 Skills / Workflows
- `macos-app-development.md`
- `swift-coding-standards.md`
- `/verify-build`

## 2. 负反馈记录
1. **请求取消逻辑处理不充分**：`.task(id:)` 导致旧请求取消时，抛出的 `URLError.cancelled` 被直接显示为错误消息。
2. **UI 风格不统一**：新实现的 `RemoteSkillCardView` 与项目中已有的 `WorkflowCardView`、`McpServerCard` 风格差异较大，导致用户需要提供示例代码进行对比修正。
3. **类型认知偏差**：在修改 `RemoteSkillCardView` 时，错误地将 `RemoteSkill.LatestVersion` 视为 `String`，导致初始化语法错误。

## 3. 习惯/风格学习（偏好沉淀）
- **UI 偏好**：项目中的卡片类视图（Cards）应具备统一的布局（VStack, 12pt 间距, 16pt Padding）、悬停动效应（缩放+阴影）、以及底部操作区风格。
- **错误处理偏好**：对于异步任务取消引发的错误，应静默失败，避免显示给用户。

## 4. 现有 Skills / Workflows 迭代建议
### `macos-app-development.md`
- 建议增加“异步任务管理”章节：强调使用 `.task(id:)` 代替 `.onChange` 处理依赖状态的资源加载，并明确指出需要过滤并忽略取消错误。
- 建议增加“UI 模式一致性”规则：要求在创建新 UI 组件前，优先调研同类业务场景（如 Grid 下的 Card）的既有实现。

### `swift-coding-standards.md`
- 建议强化“模型字段检查”：在使用 Model 属性前，务必查阅其 `.swift` 定义文件，确认其是基本类型还是嵌套结构体，避免凭直觉推断导致编译失败。

## 5. 新增 Skill / Workflow 建议
- 无。
